{"name":"Log","hostname":"eb91d5004ad6","pid":1,"level":50,"err":{"id":500,"domain":"http://localhost:2368","code":"ECONNREFUSED","name":"DatabaseError","statusCode":500,"level":"normal","message":"connect ECONNREFUSED 172.21.0.3:3306","help":"\"Unknown database error\"","stack":"DatabaseError: connect ECONNREFUSED 172.21.0.3:3306\n    at DatabaseError.KnexMigrateError (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/lib/errors.js:7:26)\n    at new DatabaseError (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/lib/errors.js:55:26)\n    at connection.raw.catch (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/lib/database.js:47:19)\n    at tryCatcher (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:547:31)\n    at Promise._settlePromise (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:604:18)\n    at Promise._settlePromise0 (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:649:10)\n    at Promise._settlePromises (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:725:18)\n    at _drainQueueStep (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/bluebird/js/release/async.js:93:12)\n    at _drainQueue (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/bluebird/js/release/async.js:86:9)\n    at Async._drainQueues (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/bluebird/js/release/async.js:102:5)\n    at Immediate.Async.drainQueues [as _onImmediate] (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/bluebird/js/release/async.js:15:14)\n    at runCallback (timers.js:705:18)\n    at tryOnImmediate (timers.js:676:5)\n    at processImmediate (timers.js:658:5)\n\nError: connect ECONNREFUSED 172.21.0.3:3306\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1107:14)\n    --------------------\n    at Protocol._enqueue (/var/lib/ghost/versions/3.2.0/node_modules/mysql/lib/protocol/Protocol.js:144:48)\n    at Protocol.handshake (/var/lib/ghost/versions/3.2.0/node_modules/mysql/lib/protocol/Protocol.js:51:23)\n    at Connection.connect (/var/lib/ghost/versions/3.2.0/node_modules/mysql/lib/Connection.js:119:18)\n    at _bluebird.default (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/knex/lib/dialects/mysql/index.js:82:18)\n    at Promise._execute (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/bluebird/js/release/debuggability.js:427:9)\n    at Promise._resolveFromExecutor (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:518:18)\n    at new Promise (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/bluebird/js/release/promise.js:103:10)\n    at Client_MySQL.acquireRawConnection (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/knex/lib/dialects/mysql/index.js:77:12)\n    at create (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/knex/lib/client.js:282:21)\n    at utils_1.tryPromise (/var/lib/ghost/versions/3.2.0/node_modules/tarn/lib/Pool.js:315:34)\n    at Object.tryPromise (/var/lib/ghost/versions/3.2.0/node_modules/tarn/lib/utils.js:53:24)\n    at Promise (/var/lib/ghost/versions/3.2.0/node_modules/tarn/lib/Pool.js:315:17)\n    at Promise._execute (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/debuggability.js:384:9)\n    at Promise._resolveFromExecutor (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/promise.js:518:18)\n    at new Promise (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/promise.js:103:10)\n    at callbackOrPromise (/var/lib/ghost/versions/3.2.0/node_modules/tarn/lib/Pool.js:306:12)\n    at Pool._create (/var/lib/ghost/versions/3.2.0/node_modules/tarn/lib/Pool.js:236:9)\n    at Pool._doCreate (/var/lib/ghost/versions/3.2.0/node_modules/tarn/lib/Pool.js:208:36)\n    at Pool._tryAcquireOrCreate (/var/lib/ghost/versions/3.2.0/node_modules/tarn/lib/Pool.js:159:18)\n    at Pool.acquire (/var/lib/ghost/versions/3.2.0/node_modules/tarn/lib/Pool.js:85:14)\n    at _bluebird.default.try (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/knex/lib/client.js:333:50)\n    at tryCatcher (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/bluebird/js/release/util.js:16:23)\n    at Function.Promise.attempt.Promise.try (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/bluebird/js/release/method.js:39:29)\n    at Client_MySQL.acquireConnection (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/knex/lib/client.js:333:33)\n    at Runner.ensureConnection (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/knex/lib/runner.js:226:24)\n    at Runner.run (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/knex/lib/runner.js:33:41)\n    at Raw.Target.then (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/knex/lib/interface.js:23:43)\n    at Raw.Target.(anonymous function) [as catch] (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/node_modules/knex/lib/interface.js:95:28)\n    at Object.exports.ensureConnectionWorks (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/lib/database.js:38:15)\n    at KnexMigrator.isDatabaseOK (/var/lib/ghost/versions/3.2.0/node_modules/knex-migrator/lib/index.js:591:21)\n    at Object.module.exports.getState (/var/lib/ghost/versions/3.2.0/core/server/data/db/migrator.js:11:25)\n    at isDatabaseInitialisationRequired (/var/lib/ghost/versions/3.2.0/core/server/index.js:167:21)\n    at makeGhost (/var/lib/ghost/versions/3.2.0/core/index.js:13:12)\n    at Object.<anonymous> (/var/lib/ghost/versions/3.2.0/index.js:20:1)"},"msg":"connect ECONNREFUSED 172.21.0.3:3306","time":"2020-01-02T11:38:24.890Z","v":0}
{"name":"Log","hostname":"bc01f176e216","pid":1,"level":50,"err":{"id":"8b9ec220-2d5c-11ea-9d9c-b38f0431b2e1","domain":"http://localhost:2368","code":null,"name":"BadRequestError","statusCode":400,"level":"normal","message":"Error parsing filter","stack":"BadRequestError: Error parsing filter\n    at new BadRequestError (/var/lib/ghost/versions/3.2.0/node_modules/ghost-ignition/lib/errors/index.js:100:23)\n    at Child.applyDefaultAndCustomFilters (/var/lib/ghost/versions/3.2.0/core/server/models/plugins/filter.js:90:23)\n    at Function.findPage (/var/lib/ghost/versions/3.2.0/core/server/models/base/index.js:882:24)\n    at Object.query (/var/lib/ghost/versions/3.2.0/core/server/api/v2/posts-public.js:32:32)\n    at Object.query (/var/lib/ghost/versions/3.2.0/core/server/api/shared/pipeline.js:156:24)\n    at Promise.resolve.then.then.then.then (/var/lib/ghost/versions/3.2.0/core/server/api/shared/pipeline.js:241:35)\n    at tryCatcher (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/promise.js:547:31)\n    at Promise._settlePromise (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/promise.js:604:18)\n    at Promise._settlePromise0 (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/promise.js:649:10)\n    at Promise._settlePromises (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/promise.js:729:18)\n    at _drainQueueStep (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/async.js:93:12)\n    at _drainQueue (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/async.js:86:9)\n    at Async._drainQueues (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/async.js:102:5)\n    at Immediate.Async.drainQueues [as _onImmediate] (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/async.js:15:14)\n    at runCallback (timers.js:705:18)\n    at tryOnImmediate (timers.js:676:5)\n    at processImmediate (timers.js:658:5)\n    at process.topLevelDomainCallback (domain.js:126:23)\n\nError: Query Error: unexpected character in filter at char 7\n(tags:[]+id:-5e0de2df6e94ba\n-------^\nExpecting 'NULL', 'TRUE', 'FALSE', 'NUMBER', 'LITERAL', 'STRING', got 'RBRACKET'\n    at Parser.parser.parseError (/var/lib/ghost/versions/3.2.0/node_modules/@nexes/nql-lang/dist/parser.js:328:12)\n    at Parser.parse (/var/lib/ghost/versions/3.2.0/node_modules/@nexes/nql-lang/dist/parser.js:245:22)\n    at Object.exports.parse (/var/lib/ghost/versions/3.2.0/node_modules/@nexes/nql-lang/lib/nql.js:18:44)\n    at Object.api.parse (/var/lib/ghost/versions/3.2.0/node_modules/@nexes/nql/lib/nql.js:15:31)\n    at Object.api.querySQL.qb [as querySQL] (/var/lib/ghost/versions/3.2.0/node_modules/@nexes/nql/lib/nql.js:49:44)\n    at Builder.query (/var/lib/ghost/versions/3.2.0/core/server/models/plugins/filter.js:87:24)\n    at Object.query (/var/lib/ghost/versions/3.2.0/node_modules/bookshelf/lib/helpers.js:58:14)\n    at Child.query (/var/lib/ghost/versions/3.2.0/node_modules/bookshelf/lib/model.js:1332:22)\n    at Child.applyDefaultAndCustomFilters (/var/lib/ghost/versions/3.2.0/core/server/models/plugins/filter.js:80:22)\n    at Function.findPage (/var/lib/ghost/versions/3.2.0/core/server/models/base/index.js:882:24)\n    at Object.query (/var/lib/ghost/versions/3.2.0/core/server/api/v2/posts-public.js:32:32)\n    at Object.query (/var/lib/ghost/versions/3.2.0/core/server/api/shared/pipeline.js:156:24)\n    at Promise.resolve.then.then.then.then (/var/lib/ghost/versions/3.2.0/core/server/api/shared/pipeline.js:241:35)\n    at tryCatcher (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/promise.js:547:31)\n    at Promise._settlePromise (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/promise.js:604:18)\n    at Promise._settlePromise0 (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/promise.js:649:10)\n    at Promise._settlePromises (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/promise.js:729:18)\n    at _drainQueueStep (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/async.js:93:12)\n    at _drainQueue (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/async.js:86:9)\n    at Async._drainQueues (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/async.js:102:5)\n    at Immediate.Async.drainQueues [as _onImmediate] (/var/lib/ghost/versions/3.2.0/node_modules/bluebird/js/release/async.js:15:14)\n    at runCallback (timers.js:705:18)\n    at tryOnImmediate (timers.js:676:5)\n    at processImmediate (timers.js:658:5)\n    at process.topLevelDomainCallback (domain.js:126:23)"},"msg":"Error parsing filter","time":"2020-01-02T12:36:49.092Z","v":0}
